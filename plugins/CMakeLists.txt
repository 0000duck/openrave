include_directories("${OPENRAVE_INCLUDE_DIRS}") # needed since plugins include openrave/openrave.h
set(PLUGIN_LINK_FLAGS "")

if(CMAKE_COMPILER_IS_GNUCC OR CMAKE_COMPILER_IS_GNUCXX)
  set(PLUGIN_COMPILE_FLAGS "-DOPENRAVE_DLL ${Boost_CFLAGS} -fPIC")
else()
  set(PLUGIN_COMPILE_FLAGS "-DOPENRAVE_DLL ${Boost_CFLAGS}")
endif()

set(CPACK_COMPONENT_PLUGINS-BASE_GROUP "Plugins" PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-BASE_DESCRIPTION "Offer a solid infrastructure of basic planning functionality." PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-BASE_DEPENDS openrave-base libboost-regex${Boost_MAJOR_VERSION}.${Boost_MINOR_VERSION}.${Boost_SUBMINOR_VERSION} PARENT_SCOPE)
set(CPACK_COMPONENTS_ALL ${CPACK_COMPONENTS_ALL} plugins-base)

add_subdirectory(basecontrollers)
add_subdirectory(baserobots)
add_subdirectory(basesensors)

add_subdirectory(bulletrave)
set(CPACK_COMPONENT_PLUGINS-BULLET_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-BULLET_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-BULLET_DEPENDS ${CPACK_COMPONENT_PLUGINS-BULLET_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-BULLET_GROUP "Plugins" PARENT_SCOPE)

add_subdirectory(dualmanipulation)
set(CPACK_COMPONENT_PLUGINS-DUALMANIPULATION_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-DUALMANIPULATION_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-DUALMANIPULATION_DEPENDS ${CPACK_COMPONENT_PLUGINS-DUALMANIPULATION_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-DUALMANIPULATION_GROUP "Plugins" PARENT_SCOPE)

add_subdirectory(grasper)
set(CPACK_COMPONENT_PLUGINS-GRASPER_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-GRASPER_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-GRASPER_DEPENDS ${CPACK_COMPONENT_PLUGINS-GRASPER_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-GRASPER_GROUP "Plugins" PARENT_SCOPE)

add_subdirectory(ikfastsolvers)
set(CPACK_COMPONENT_PLUGINS-IKFASTSOLVERS_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-IKFASTSOLVERS_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-IKFASTSOLVERS_DEPENDS ${CPACK_COMPONENT_PLUGINS-IKFASTSOLVERS_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-IKFASTSOLVERS_GROUP "Plugins" PARENT_SCOPE)

add_subdirectory(logging)

add_subdirectory(oderave)
set(CPACK_COMPONENT_PLUGINS-ODE_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-ODE_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-ODE_DEPENDS ${CPACK_COMPONENT_PLUGINS-ODE_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-ODE_GROUP "Plugins" PARENT_SCOPE)

add_subdirectory(pqprave)

add_subdirectory(qtcoinrave)
set(CPACK_COMPONENT_PLUGINS-QTCOIN_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-QTCOIN_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-QTCOIN_DEPENDS ${CPACK_COMPONENT_PLUGINS-QTCOIN_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-QTCOIN_GROUP "Plugins" PARENT_SCOPE)

add_subdirectory(rmanipulation)
add_subdirectory(rplanners)

add_subdirectory(textserver)
set(CPACK_COMPONENT_PLUGINS-TEXTSERVER_DESCRIPTION ${CPACK_COMPONENT_PLUGINS-TEXTSERVER_DESCRIPTION} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-TEXTSERVER_DEPENDS ${CPACK_COMPONENT_PLUGINS-TEXTSERVER_DEPENDS} PARENT_SCOPE)
set(CPACK_COMPONENT_PLUGINS-TEXTSERVER_GROUP "Plugins" PARENT_SCOPE)

set(CPACK_COMPONENTS_ALL ${CPACK_COMPONENTS_ALL} PARENT_SCOPE)
