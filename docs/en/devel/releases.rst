Release Organization
====================

This page describes the OpenRAVE release organization and platform requirements. The :ref:`testing_framework` is responsible for auto-generating the releases and making them available to the general public.

Versioning
----------

Should allow multiple openrave versions to be installed simultaneously. This requires using suffixing several files and executables with $MAJOR.$MINOR similar to how python and `boost <https://svn.boost.org/trac/boost/wiki/ImprovingPractices>`_ work.

OpenRAVE patch releases should always be binary compatible so that newer versions can read old plugins. In otherwords all 0.3.x releases should be binary compatible with each other. See `ABI Compatibility <http://www.ros.org/reps/rep-0009.html>`_ for an excellent discussion. There is an `ABI compliance checker <http://ispras.linux-foundation.org/index.php/ABI_compliance_checker>`_ that can ensure this is so. For Linux systems, SO version is always the OpenRAVE $MAJOR.$MINOR version.


Windows Installer
-----------------

Use `Nullsoft Scriptable Install System <http://nsis.sourceforge.net>`_ for generating an executable. Once the regular NSIS setup is run, install the `Large String Build <http://nsis.sourceforge.net/Special_Builds>`_. The NSI file is generated by running **release/generate_installer_windows.py** on the installation directory produced by cmake.

The installer:

* automatically installs python, boost, numpy, and sympy,
* unpacks the openrave files in a user-specified location,
* modifies **openrave/config.h** to point to the user-installed location,
* adds options to install Octave/Python bindings,
* registers the necessary DLLs and adds registry keys for OpenRAVE
 * Under **HKEY_LOCAL_MACHINE\SOFTWARE\OpenRAVE** will be every OpenRAVE version that is installed. For example "|version|". Under that will be **InstallRoot**.
* and modifies the PYTHONPATH and Path environment variables.

Note that the provides DLLs are compiled in Multithreaded DLL runtime.

Ubuntu Releases
---------------

`Official Release PPA <https://launchpad.net/~openrave/+archive/release>`_

The packages are separated into:

* openrave$V: all openrave related packages
* openrave$V-base: core libraries and tools
* openrave$V-scenes: basic scenes required for examples
* openrave$V-dev: development files and examples
* openrave$V-python: openravepy python bindings
* openrave$V-octave: octave bindings
* openrave$V-plugin-X$U: individual plugins and their versions
* openrave-robots-extra: extra robot CAD model files

`Packaging Guide <https://wiki.ubuntu.com/PackagingGuide/Complete>`_

Sourceforge Releases
--------------------

Release source code and windows installers.

Once a build is stable and all the release packages have been generated, they are uploaded to sourceforge using the **release/sendtosourceforge.sh** script:

.. literalinclude:: ../../../release/sendtosourceforge.sh
  :language: bash

The script puts the newest files into **latest_stable**, and deletes any files that are more than 7 days old.

openrave.testing@gmail.com is responsible for testing and publishing new releases. The sourceforge user name is `openravetesting <https://sourceforge.net/users/openravetesting>`_. The launchpad user name is `openrave <https://launchpad.net/~openrave>`_. 
