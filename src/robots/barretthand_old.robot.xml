<?xml version="1.0" encoding="utf-8"?>

<!-- Template
    <Body name="" type="">
	  <Translation></Translation>
	  <RotationAxis></RotationAxis>
      <Geom type="">
        <Data>=</Data>
        <Render></Render>
      </Geom>
      <mass type="box">
        <mass></mass>
        <extents></extents>
      </mass>
    </Body>
-->

<Robot>
  <KinBody name="Barrett">

    <Body name="Palm" type="dynamic">
      <Translation>0.0  0.0  0.0</Translation>
      <Geom type="trimesh">
        <data>models/barrett/palmold.iv 0.001</data>
        <Render>models/barrett/palmold.iv 0.001</Render>
      </Geom>
    </Body>

    <!-- finger 0-->

    <!-- DH= d0+90 0 50 -90 0 180 -->
    <Body name="Finger0-0" type="dynamic">
	  <offsetfrom>Palm</offsetfrom>
      <!-- <Translation>0.075 0 -0.001</Translation> -->
      <Translation>0.024 0.025 -0.001</Translation>
      <RotationMat>0 0 1 1 0 0 0 1 0</RotationMat>
      <Geom type="trimesh">
	<Translation>0.025 0 0.001</Translation>
        <data>models/barrett/link1old.iv 0.001</data>
        <Render>models/barrett/link1old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint name = "JF0" type="hinge">
      <Body>Palm</Body>
      <Body>Finger0-0</Body>
      <offsetfrom>Palm</offsetfrom>
      <weight>4</weight>
      <lostop>-1</lostop>
      <histop>181</histop>
      <axis>0 0 1</axis>
      <anchor>0.025 0 0</anchor>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

    <!-- DH= d1+5 0 70 0 0 144 -->
    <Body name="Finger0-1" type="dynamic" >
	  <offsetfrom>Finger0-0</offsetfrom>
      <Translation>0.095 0 0.001</Translation>
      <Geom type="trimesh">
        <data>models/barrett/link2old.iv 0.001</data>
        <Render>models/barrett/link2old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint type="hinge" name="JF1">
      <Body>Finger0-0</Body>
      <Body>Finger0-1</Body>
      <offsetfrom>Finger0-0</offsetfrom>
      <weight>4</weight>
      <lostop>-5</lostop>
      <histop>139</histop>
      <axis>0 0 -1</axis>
      <anchor>0.025 0 0.001</anchor>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

    <!-- DH= d1*0.333333333+40 0 55 0 0 144 -->
    <Body name="Finger0-2" type="dynamic">
	  <offsetfrom>Finger0-1</offsetfrom>
      <Translation>0.055 0 0</Translation>
      <Geom type="trimesh">
        <data>models/barrett/link3old.iv 0.001</data>
        <Render>models/barrett/link3old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint name="JF1m" type="hinge" enable="true" mimic="JF1 0.333333 0.6690">
      <Body>Finger0-1</Body>
      <Body>Finger0-2</Body>
      <offsetfrom>Finger0-1</offsetfrom>
      <weight>4</weight>
      <lostop>-1</lostop>
      <histop>143</histop>
      <axis>0 0 -1</axis>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

    <!-- finger 1-->
    <!-- DH= d0+90 0 50 90 0 180  -->
    <Body name="Finger1-0" type="dynamic">
	  <offsetfrom>Palm</offsetfrom>
      <Translation>-0.026 0.075 -0.001</Translation>
      <RotationMat>0 0 1 1 0 0 0 1 0</RotationMat>
      <Geom type="trimesh">
	    <Translation>-0.025 0 0.001</Translation>
        <data>models/barrett/link1old.iv 0.001</data>
        <Render>models/barrett/link1old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint type="hinge"  enable="false" mimic="JF0">
      <Body>Palm</Body>
      <Body>Finger1-0</Body>
      <offsetfrom>Palm</offsetfrom>
      <weight>4</weight>
      <axis>0 0 -1</axis>
      <anchor>-0.025 0 0</anchor>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

    <!-- DH= d2+5 0 70 0 0 144 -->
    <Body name="Finger1-1" type="dynamic">
	  <offsetfrom>Finger1-0</offsetfrom>
      <Translation>0.045 0 0.001</Translation>
      <Geom type="trimesh">
        <data>models/barrett/link2old.iv 0.001</data>
        <Render>models/barrett/link2old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint type="hinge" name="JF2">
      <Body>Finger1-0</Body>
      <Body>Finger1-1</Body>
      <offsetfrom>Finger1-0</offsetfrom>
      <weight>4</weight>
      <lostop>-5</lostop>
      <histop>139</histop>
      <axis>0 0 -1</axis>
      <anchor>-0.025 0 0.001</anchor>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

    <!-- DH= d2*0.333333333+40 0 55 0 0 144 -->
    <Body name="Finger1-2" type="dynamic">
	  <offsetfrom>Finger1-1</offsetfrom>
      <Translation>0.055 0 0</Translation>
      <Geom type="trimesh">
        <data>models/barrett/link3old.iv 0.001</data>
        <Render>models/barrett/link3old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint name="JF2m" type="hinge"  enable="true" mimic="JF2 0.333333 0.6690">
      <Body>Finger1-1</Body>
      <Body>Finger1-2</Body>
      <offsetfrom>Finger1-1</offsetfrom>
      <weight>4</weight>
      <lostop>-1</lostop>
      <histop>143</histop>
      <axis>0 0 -1</axis>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

        <!-- finger 2-->
    <!-- DH= d3+5 0 70 0 0 144  -->
    <Body name="Finger2-0" type="dynamic">
	  <offsetfrom>Palm</offsetfrom>
      <Translation>0.0 -0.12 -0.001</Translation>
      <RotationAxis>-1 1 -1 120</RotationAxis>
      <Geom type="trimesh">
        <data>models/barrett/link2old.iv 0.001</data>
        <Render>models/barrett/link2old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint type="hinge" name="JF3">
      <Body>Palm</Body>
      <Body>Finger2-0</Body>
      <offsetfrom>Palm</offsetfrom>
      <weight>4</weight>
      <lostop>-5</lostop>
      <histop>139</histop>
      <axis>1 0 0</axis>
      <anchor>0 -0.05 -0.001</anchor>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>

    <!-- DH= d3*0.333333333+40 0 55 0 0 144 -->
    <Body name="Finger2-1" type="dynamic">
	  <offsetfrom>Finger2-0</offsetfrom>
      <Translation>0.055 0 0</Translation>
      <Geom type="trimesh">
        <data>models/barrett/link3old.iv 0.001</data>
        <Render>models/barrett/link3old.iv 0.001</Render>
      </Geom>
    </Body>

    <Joint name="JF3m" type="hinge"  enable="true" mimic="JF3 0.33333 0.9">
      <Body>Finger2-0</Body>
      <Body>Finger2-1</Body>
      <offsetfrom>Finger2-0</offsetfrom>
      <weight>4</weight>
      <lostop>-1</lostop>
      <histop>143</histop>
      <axis>0 0 1</axis>
      <maxvel>2</maxvel>
      <resolution>1</resolution>
    </Joint>
  </KinBody>
</Robot>
